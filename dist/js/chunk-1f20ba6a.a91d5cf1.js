(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f20ba6a"],{"1a5d":function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"body",style:{backgroundImage:"url("+t.itemImg+")"}}),e("el-dialog",{attrs:{title:"抽取塔罗牌",visible:t.thingDialogVisible,width:"70%",center:""},on:{"update:visible":function(i){t.thingDialogVisible=i}}},[e("div",{staticStyle:{"text-align":"center"}},[e("h1",[t._v(t._s(t.thing[t.random][0]))]),e("h2",[t._v(t._s(t.thing[t.random][1]))]),e("el-image",{staticStyle:{width:"300px",height:"500px"},attrs:{src:s("3500")("./"+t.thing[t.random][0]+".jpeg")}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中"),e("span",{staticClass:"dot"},[t._v("...")])])])],1)]),e("el-dialog",{attrs:{visible:t.centerDialogVisible,width:"30%",center:"","before-close":t.handleClose},on:{"update:visible":function(i){t.centerDialogVisible=i}}},[e("span",[t._v(t._s(t.content||"无线索"))]),e("el-image",{directives:[{name:"show",rawName:"v-show",value:t.bossImg,expression:"bossImg"}],attrs:{src:s("bc4f")}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中"),e("span",{staticClass:"dot"},[t._v("...")])])]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(i){return t.closeThing(t.content,0)}}},[t._v("拒绝")]),e("el-button",{on:{click:function(i){return t.closeThing(t.content,1)}}},[t._v("同意")])],1)],1),e("el-dialog",{attrs:{width:"80%",title:t.currentRoom[0],visible:t.outerVisible},on:{"update:visible":function(i){t.outerVisible=i}}},[e("div",{staticClass:"grid-content"},t._l(t.currentRoom[1],(function(i,s){return e("el-card",{key:s},[[e("span",{staticStyle:{cursor:"pointer"},on:{click:function(s){return t.openSay(i)}}},[t._v(t._s(i))])]],2)})),1),e("div",{staticClass:"grid-content"},t._l(t.currentRoom[2],(function(i,s){return e("el-card",{key:s},[[e("span",{staticStyle:{cursor:"pointer"},on:{click:function(s){return t.openThing(i)}}},[t._v(t._s(i))])]],2)})),1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:function(i){t.innerVisible=!0}}},[t._v("打开背包")])],1)]),e("el-dialog",{attrs:{width:"80%",title:"背包",visible:t.innerVisible},on:{"update:visible":function(i){t.innerVisible=i}}},[e("div",{staticClass:"grid-content"},t._l(t.bag,(function(i,s){return e("el-card",{key:s},[[e("span",{staticStyle:{cursor:"pointer"},on:{click:function(s){return t.useGood(i)}}},[t._v(t._s(i))])]],2)})),1)]),e("el-dialog",{attrs:{width:"80%",title:"使用物品",visible:t.goodVisible},on:{"update:visible":function(i){t.goodVisible=i}}},[e("div",{staticClass:"grid-content"},t._l(t.currentRoom[1],(function(i,s){return e("el-card",{key:s},[[e("span",{staticStyle:{cursor:"pointer"},on:{click:function(s){return t.useGoodToPerson(i)}}},[t._v(t._s(i))])]],2)})),1)]),e("el-drawer",{attrs:{title:"规则怪谈",visible:t.drawer,direction:"rtl"},on:{"update:visible":function(i){t.drawer=i}}},t._l(t.words[1],(function(i,s){return e("p",{key:s},[t._v(t._s(i))])})),0),e("el-dialog",{attrs:{title:t.currentPerson,visible:t.dialogVisible,width:"30%",top:"70vh",modal:!1,"show-close":!1},on:{"update:visible":function(i){t.dialogVisible=i}}},[e("span",[t._v(t._s(t.word))]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"text"},on:{click:function(i){return t.nextWord()}}},[t._v("对话")])],1)]),e("el-container",[e("el-header",[e("h1",{staticStyle:{color:"white"}},[t._v("第二幕 第"+t._s(t.chapter)+"章")]),e("h2",{staticStyle:{color:"white"}},[t._v("当前场景:"+t._s(t.site[0]))])]),e("el-container",[e("el-aside",{attrs:{width:"15%"}},[e("el-button",{attrs:{disabled:t.bagDisabled},on:{click:function(i){t.innerVisible=!0}}},[t._v("打开背包")]),e("el-card",{staticStyle:{margin:"2%"}},[e("el-statistic",{attrs:{title:"所在位置"}},[e("template",{slot:"suffix"},[t._v(" "+t._s(t.currentRoom[0]||t.site[0])+" ")])],2)],1),e("el-card",{staticStyle:{margin:"2%"}},[e("el-statistic",{attrs:{title:"当前事件"}},[e("template",{slot:"suffix"},[t._v(" "+t._s(t.currentThing[0])+" "+t._s(t.currentThing[1])+" ")])],2)],1)],1),e("el-main",[e("el-row",[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"grid-content"},t._l(t.site[3],(function(i,s){return e("el-card",{key:s},[t._l(i[0],(function(s){return[e("span",{staticStyle:{cursor:"pointer"},on:{click:function(s){return t.openOuterVisible(i)}}},[t._v(t._s(s))])]}))],2)})),1)])],1),e("el-row",[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"grid-content"},t._l(t.site[1],(function(i,s){return e("el-card",{key:s},[[e("span",{staticStyle:{cursor:"pointer"},on:{click:function(s){return t.openSay(i)}}},[t._v(t._s(i))])]],2)})),1)])],1),e("el-row",[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"grid-content"},t._l(t.site[2],(function(i,s){return e("el-card",{key:s},[[e("span",{staticStyle:{cursor:"pointer"},on:{click:function(s){return t.openThing(i)}}},[t._v(t._s(i))])]],2)})),1)])],1)],1),e("el-aside",{attrs:{width:"15%"}},[e("el-button",{on:{click:function(i){t.drawer=!0}}},[t._v("规则怪谈")]),e("el-card",{staticStyle:{margin:"2%"}},[e("el-statistic",{attrs:{title:"当前时间"}},[e("template",{slot:"suffix"},[t._v(" "+t._s(t._f("formatDate")(t.deadline))+" ")])],2)],1),e("el-card",{staticStyle:{margin:"2%"}},[e("el-statistic",{attrs:{title:"当前任务"}},[e("template",{slot:"suffix"},[t._v(" "+t._s(t.currentTask)+" ")])],2)],1),e("el-card",{directives:[{name:"show",rawName:"v-show",value:0!==t.deadline2,expression:"deadline2 !== 0"}],staticStyle:{margin:"2%"}},[e("el-statistic",{attrs:{value:t.deadline2,"time-indices":"",title:"倒计时"}},[e("template",{slot:"suffix"},[t._v(" 马上躲进厕所 ")])],2)],1)],1)],1)],1)],1)},n=[],o=(s("a434"),s("ed08")),h={data:function(){return{site:o["site1"][0],thing:o["thing2"],say:o["say1"],words:o["word1"][0],dialogVisible:!1,outerVisible:!1,innerVisible:!1,centerDialogVisible:!1,goodVisible:!1,drawer:!1,thingDialogVisible:!1,currentRoom:"",currentPerson:"",currentTask:"",currentGood:"",currentThing:[],sayIndex:0,thingIndex:0,SPIndex:0,deadline:new Date(2024,1,1,8,0,0),deadline2:0,bag:[],bagDisabled:!1,content:"",word:"",bossImg:!1,setTime:null,chapter:1,itemImg:s("7408"),random:0}},methods:{handleClose:function(){return this.$message.info("请选择")},openOuterVisible:function(t){this.outerVisible=!0,this.currentRoom=t},openSay:function(t){this.dialogVisible=!0,this.currentPerson=t,this.sayIndex=0},openThing:function(t){this.currentRoom=[t],this.centerDialogVisible=!0,"列车站"==this.site[0]?"保安室"==t?(this.content="余下的规则:3.厕所开放时间:10:00-16:00,其他时间请不要进入厕所。4.18:00之后不要和售票员讲话直到第二天",2==this.words[1].length&&this.words[1].push("3.厕所开放时间:10:00-16:00,其他时间请不要进入厕所","4.18:00之后不要和售票员讲话直到第二天")):"售票员"==t?(this.content=this.say[1][2],this.bossImg=!0,this.outerVisible=!1):"服务台"==t?(this.content="获得宣传单",-1==this.bag.indexOf("宣传单")&&this.bag.push("宣传单"),this.outerVisible=!1):"座位2"==t&&"你的票在座位2下面"==this.word&&(this.content="获得遗失的车票",-1==this.bag.indexOf("车票")&&this.bag.push("车票"),this.outerVisible=!1):"列车"==this.site[0]&&("路人1"==t?this.content="路人1给你一个黑团团的东西,是否接受?":"路人1x"==t&&0==this.SPIndex?(this.content=this.say[6][2],this.bossImg=!0):"路人1xx"==t&&0==this.SPIndex?(this.content="那我就只能吃你了",this.bossImg=!0):"售票员"==t&&0==this.SPIndex?(this.content=this.say[1][2],this.bossImg=!0,this.outerVisible=!1):"倒吊人"==t||"恶魔"==t?(this.content="鬼魂出来猎杀",this.bossImg=!0,this.outerVisible=!1):"售票员"!=t&&"路人1x"!=t||1!=this.SPIndex?"售票员"!=t&&"路人1x"!=t||2!=this.SPIndex?"座位5"==t?this.content="发现了一瓶安眠药":"座位8"==t?this.content="发现了一跟针管":"座位11"==t&&(this.content="发现了一把水果刀"):(this.content="鬼魂注视着你,但是没有攻击",this.centerDialogVisible=!0,this.outerVisible=!1,this.SPIndex=0):(this.content="审判为你抵挡了一次伤害",this.centerDialogVisible=!0,this.outerVisible=!1,this.SPIndex=0))},closeThing:function(t,i){this.bossImg=!1,this.content="",this.centerDialogVisible=!1,this.outerVisible=!1,"[你违反了规则]你往哪走啊?"==t||"[你违反了规则]我让你拿着!"==t||"鬼魂出来猎杀"==t?this.nextChapter():"路人1给你一个黑团团的东西,是否接受?"==t&&1==i?(-1==this.bag.indexOf("黑色塑料袋")&&this.bag.push("黑色塑料袋"),this.content="获得黑色塑料袋",this.centerDialogVisible=!0):"路人1给你一个黑团团的东西,是否接受?"==t&&0==i?this.openThing("路人1x"):"蓝色制服服务员:先生,正在进行二次检票,能出示一下证件吗"==t&&1==i?(-1==this.bag.indexOf("塔罗牌")&&this.bag.push("塔罗牌"),this.content="获得塔罗牌",this.centerDialogVisible=!0,this.thingIndex=1):"蓝色制服服务员:先生,正在进行二次检票,能出示一下证件吗"==t&&0==i?(this.content="你拒绝了,似乎损失了什么东西",this.centerDialogVisible=!0,this.thingIndex=1):"红色制服服务员:先生,本车提供美味的卤煮,来一份吗"==t&&0==i?this.openThing("路人1x"):"红色制服服务员:先生,本车提供美味的卤煮,来一份吗"==t&&1==i?(-1==this.bag.indexOf("卤煮")&&this.bag.push("卤煮"),this.content="获得一份卤煮",this.centerDialogVisible=!0,this.thingIndex=2):"路人1:好饿啊,你那里有没有吃的(是否将卤煮给路人1)"==t&&0==i?(this.openThing("路人1xx"),this.thingIndex=3):"路人1:好饿啊,你那里有没有吃的(是否将卤煮给路人1)"==t&&1==i&&(-1!==this.bag.indexOf("卤煮")&&this.bag.splice(this.bag.indexOf("卤煮"),1),this.content="路人1狼吞虎咽的吃了起来",this.centerDialogVisible=!0,this.thingIndex=3)},useGood:function(t){this.goodVisible=!0,this.currentGood=t,"塔罗牌"==t&&(this.goodVisible=!1,this.thingDialogVisible=!0,this.currentThing=[this.thing[this.random][0],this.thing[this.random][1]],this.useTLP(this.thing[this.random][0]))},useGoodToPerson:function(t){"路人4"==t&&"宣传单"==this.currentGood?confirm("确定要给"+t+"吗？")&&(this.word="你就拿这个给我？",this.dialogVisible=!0):"路人4"==t&&"戒指"==this.currentGood?confirm("确定要给"+t+"吗？")&&(this.word="你的票在座位2下面",this.dialogVisible=!0,-1!==this.bag.indexOf("戒指")&&this.bag.splice(this.bag.indexOf("戒指"),1)):"售票员"==t&&"车票"==this.currentGood?confirm("确定要给"+t+"吗？")&&(this.word="检票通过,请上车",this.dialogVisible=!0,this.chapter++,this.nextChapter()):"服务员"==t&&"黑色塑料袋"==this.currentGood?confirm("确定要给"+t+"吗？")&&(this.word="你在垃圾中发现了一张残缺纸条",this.dialogVisible=!0,this.innerVisible=!1,-1!==this.bag.indexOf("黑色塑料袋")&&this.bag.splice(this.bag.indexOf("黑色塑料袋"),1),4==this.words[1].length&&this.words[1].push("5.20:00之后不要吃东西","6.22:00之后不要和任何人讲话")):"路人6"==t&&"指认凶手"==this.currentGood&&confirm("确定要给"+t+"吗？")&&(this.word="指认成功,凶手已找到。真相:路人6用针管向路人1注射药物。路人6供出路人8主谋,提供药物煽动其行动并嫁祸给路人3",this.dialogVisible=!0,this.chapter++,this.nextChapter())},useTLP:function(t){var i=this;if("倒吊人"==t||"恶魔"==t)setTimeout((function(){i.openThing(t)}),3e3);else if("命运之轮"==t)this.nextChapter();else if("死神"==t)this.deadline2=Date.now()+3e4,setTimeout((function(){"厕所"==i.currentRoom[0]?(i.content="死神没找到你,躲过了一劫",i.centerDialogVisible=!0,i.deadline2=0):"厕所"!==i.currentRoom[0]&&(i.openThing("售票员"),i.deadline2=0)}),31e3);else if("太阳"==t){clearInterval(this.setTime);var s=8;this.setTime=setInterval((function(){i.deadline=new Date(2024,1,1,s,0,0),s++,i.isNext()}),5e3)}else if("月亮"==t){clearInterval(this.setTime);var e=18;this.setTime=setInterval((function(){i.deadline=new Date(2024,1,1,e,0,0),e++,i.isNext()}),5e3)}else if("恋人"==t){clearInterval(this.setTime);var n=this.random;this.setTime=setInterval((function(){i.deadline=new Date(2024,1,1,n,0,0),n++,i.isNext()}),5e3)}else"星星"==t?(this.random=Math.round(Math.random()*this.thing.length-1),this.useGood("塔罗牌")):"审判"==t?this.SPIndex=1:"灯塔"==t?this.SPIndex=2:"力量"==t?(-1==this.bag.indexOf("魔镜")&&this.bag.push("魔镜"),this.content="获得魔镜,显现鬼魂当前所在位置",this.centerDialogVisible=!0):"世界"==t?this.words[1].shift():"节制"==t&&(this.bagDisabled=!0);this.innerVisible=!1},nextWord:function(){"你的票在座位2下面"!=this.word&&this.sayIndex++},isNext:function(){"列车站"==this.site[0]&&(this.currentTask="找到完整规则",4==this.words[1].length&&-1==this.bag.indexOf("车票")?this.currentTask="找到丢失的票":-1!==this.bag.indexOf("车票")&&(this.currentTask="向售票员检票,准备出发")),"列车"==this.site[0]&&(this.currentTask="找到完整规则",4==this.thingIndex?(this.currentTask="找出凶手",-1==this.bag.indexOf("指认凶手")&&this.bag.push("指认凶手")):6==this.words[1].length&&(this.currentTask="存活到站"))},nextChapter:function(){1==this.chapter?(this.site=o["site1"][0],this.words=o["word1"][0],this.itemImg=s("7408"),this.random=Math.round(Math.random()*this.thing.length-1)):2==this.chapter&&(this.site=o["site1"][1],this.words=o["word1"][1],this.itemImg=s("1298"),this.bag=["车票"],this.random=Math.round(Math.random()*this.thing.length-1),this.bagDisabled=!1)}},watch:{currentPerson:function(t,i){"列车站"==this.site[0]?"保安"==t?this.word=this.say[0][1][0]:"售票员"==t?this.word=this.say[1][1][0]:"路人1"==t?this.word=this.say[2][1][0]:"路人2"==t?this.word=this.say[3][1][0]:"路人4"==t?this.word=this.say[4][1][0]:"路人5"==t&&(this.word=this.say[5][1][0]):"列车"==this.site[0]&&("路人1"==t?this.word=this.say[6][1][0]:"服务员"==t?this.word=this.say[7][1][0]:"列车员"==t?this.word=this.say[8][1][0]:"路人11"==t?this.word=this.say[9][1][0]:"路人2"==t&&4==this.thingIndex?this.word=this.say[10][1][0]:"路人3"==t&&4==this.thingIndex?this.word=this.say[11][1][0]:"路人4"==t&&4==this.thingIndex?this.word=this.say[12][1][0]:"路人5"==t&&4==this.thingIndex?this.word=this.say[13][1][0]:"路人6"==t&&4==this.thingIndex?this.word=this.say[14][1][0]:"路人7"==t&&4==this.thingIndex?this.word=this.say[15][1][0]:"路人8"==t&&4==this.thingIndex?this.word=this.say[16][1][0]:"路人9"==t&&4==this.thingIndex?this.word=this.say[17][1][0]:"路人10"==t&&4==this.thingIndex&&(this.word=this.say[18][1][0]))},sayIndex:function(t,i){"列车站"==this.site[0]?"保安"==this.currentPerson?(null==this.say[0][1][t]&&(this.dialogVisible=!1),this.word=this.say[0][1][t]):"售票员"==this.currentPerson?(null==this.say[1][1][t]&&(this.dialogVisible=!1,this.deadline.getHours()>new Date(2024,1,1,18,0,0).getHours()&&this.openThing("售票员")),this.word=this.say[1][1][t]):"路人1"==this.currentPerson?(null==this.say[2][1][t]&&(this.dialogVisible=!1),this.word=this.say[2][1][t]):"路人2"==this.currentPerson?(null==this.say[3][1][t]&&(this.dialogVisible=!1),this.word=this.say[3][1][t]):"路人4"==this.currentPerson?(null==this.say[4][1][t]&&(this.dialogVisible=!1),this.word=this.say[4][1][t]):"路人5"==this.currentPerson&&(null==this.say[5][1][t]&&(this.dialogVisible=!1,(this.deadline.getHours()>16||this.deadline.getHours()<10)&&this.openThing("售票员")),this.word=this.say[5][1][t],-1==this.bag.indexOf("戒指")&&this.bag.push("戒指")):"列车"==this.site[0]&&("路人1"==this.currentPerson?(null==this.say[6][1][t]&&(this.dialogVisible=!1,this.openThing("路人1")),this.word=this.say[6][1][t]):"服务员"==this.currentPerson?(null==this.say[7][1][t]&&(this.dialogVisible=!1),this.word=this.say[7][1][t]):"列车员"==this.currentPerson?(null==this.say[8][1][t]&&(this.dialogVisible=!1),this.word=this.say[8][1][t]):"路人11"==this.currentPerson?(null==this.say[9][1][t]&&(this.dialogVisible=!1),this.word=this.say[9][1][t]):"路人2"==this.currentPerson&&4==this.thingIndex?(null==this.say[10][1][t]&&(this.dialogVisible=!1),this.word=this.say[10][1][t]):"路人3"==this.currentPerson&&4==this.thingIndex?(null==this.say[11][1][t]&&(this.dialogVisible=!1),this.word=this.say[11][1][t]):"路人4"==this.currentPerson&&4==this.thingIndex?(null==this.say[12][1][t]&&(this.dialogVisible=!1),this.word=this.say[12][1][t]):"路人5"==this.currentPerson&&4==this.thingIndex?(null==this.say[13][1][t]&&(this.dialogVisible=!1),this.word=this.say[13][1][t]):"路人6"==this.currentPerson&&4==this.thingIndex?(null==this.say[14][1][t]&&(this.dialogVisible=!1),this.word=this.say[14][1][t]):"路人7"==this.currentPerson&&4==this.thingIndex?(null==this.say[15][1][t]&&(this.dialogVisible=!1),this.word=this.say[15][1][t]):"路人8"==this.currentPerson&&4==this.thingIndex?(null==this.say[16][1][t]&&(this.dialogVisible=!1),this.word=this.say[16][1][t]):"路人9"==this.currentPerson&&4==this.thingIndex?(null==this.say[17][1][t]&&(this.dialogVisible=!1),this.word=this.say[17][1][t]):"路人10"==this.currentPerson&&4==this.thingIndex&&(null==this.say[18][1][t]&&(this.dialogVisible=!1),this.word=this.say[18][1][t]))},outerVisible:function(t,i){0==t&&(this.currentRoom=this.site)},centerDialogVisible:function(t,i){0==t&&(this.currentRoom=this.site)},currentRoom:function(t,i){"车厢1"!=t[0]&&"车厢2"!=t[0]&&"车厢3"!=t[0]&&"厕所"!=t[0]||this.deadline.getHours()>16&&this.openThing("售票员")},deadline:function(t,i){"列车"==this.site[0]&&(18==t.getHours()&&0==this.thingIndex?(this.content="蓝色制服服务员:先生,正在进行二次检票,能出示一下证件吗",this.centerDialogVisible=!0):23==t.getHours()&&1==this.thingIndex?(this.content="红色制服服务员:先生,本车提供美味的卤煮,来一份吗",this.centerDialogVisible=!0):4!=t.getHours()&&12!=t.getHours()||2!=this.thingIndex?8!=t.getHours()&&16!=t.getHours()||3!=this.thingIndex||(this.content="路人1死亡,已被警方隔离调查",this.centerDialogVisible=!0,this.thingIndex=4):(this.content="路人1:好饿啊,你那里有没有吃的(是否将卤煮给路人1)",this.centerDialogVisible=!0))}},mounted:function(){var t=this;this.random=Math.round(Math.random()*this.thing.length-1),this.isNext();var i=this.deadline.getHours();24==i&&(i=0),this.setTime=setInterval((function(){t.deadline=new Date(2024,1,1,i,0,0),i++,t.isNext()}),5e3)},beforeDestory:function(){clearInterval(this.setTime)},filters:{formatDate:function(t){var i=t.getHours(),s=t.getMinutes();return i+":"+s}}},r=h,a=(s("fa0c"),s("2877")),l=Object(a["a"])(r,e,n,!1,null,null,null);i["default"]=l.exports},"82c8":function(t,i,s){},fa0c:function(t,i,s){"use strict";s("82c8")}}]);
//# sourceMappingURL=chunk-1f20ba6a.a91d5cf1.js.map