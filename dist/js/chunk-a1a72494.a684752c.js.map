{"version":3,"sources":["webpack:///./src/views/mine/mine.vue?6f65","webpack:///./src/views/mine/mine.vue?2614","webpack:///src/views/mine/mine.vue","webpack:///./src/views/mine/mine.vue?784d","webpack:///./src/views/mine/mine.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$apiServer","userid","userId","success","beforeUpload","$route","params","user","avatar","model","value","callback","$$v","$set","expression","userinfo","_v","_s","sex","staticStyle","on","updateUserInfo","_e","oldpassword","newpassword","setPassword","bindPhone","bindEmail","staticRenderFns","data","username","phone","email","age","birthday","address","headurl","computed","mapState","methods","result","file","isType","isLt1M","$message","error","res","errCode","message","init","id","GetUser","created","component"],"mappings":"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","file":"js/chunk-a1a72494.a684752c.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mine.vue?vue&type=style&index=0&id=43558da4&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"bg\"}),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"mine\"},[_c('el-form',{attrs:{\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"头像\"}},[_c('el-upload',{attrs:{\"name\":\"file\",\"action\":this.$apiServer+'/user/editUserImg',\"data\":{userid:_vm.userId},\"show-file-list\":false,\"on-success\":_vm.success,\"before-upload\":_vm.beforeUpload,\"accept\":\".jpg,.jpeg,.png\",\"disabled\":this.$route.params.userid!=_vm.userId}},[_c('el-avatar',{attrs:{\"size\":64,\"src\":this.$apiServer+_vm.user.avatar,\"title\":\"点击头像可上传\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"昵称\"}},[_c('el-input',{attrs:{\"disabled\":this.$route.params.userid!=_vm.userId},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"年龄\"}},[_c('el-input',{attrs:{\"disabled\":this.$route.params.userid!=_vm.userId},model:{value:(_vm.user.userinfo.age),callback:function ($$v) {_vm.$set(_vm.user.userinfo, \"age\", $$v)},expression:\"user.userinfo.age\"}})],1),_c('el-form-item',{attrs:{\"label\":\"性别\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择您的性别\",\"disabled\":this.$route.params.userid!=_vm.userId},model:{value:(_vm.user.userinfo.sex),callback:function ($$v) {_vm.$set(_vm.user.userinfo, \"sex\", $$v)},expression:\"user.userinfo.sex\"}},[_c('el-option',{attrs:{\"label\":\"男\",\"value\":\"0\"}}),_c('el-option',{attrs:{\"label\":\"女\",\"value\":\"1\"}})],1),_vm._v(\" \"+_vm._s(_vm.user.userinfo.sex==0?'男':'女')+\" \")],1),_c('el-form-item',{attrs:{\"label\":\"地址\"}},[_c('el-input',{attrs:{\"disabled\":this.$route.params.userid!=_vm.userId},model:{value:(_vm.user.userinfo.address),callback:function ($$v) {_vm.$set(_vm.user.userinfo, \"address\", $$v)},expression:\"user.userinfo.address\"}})],1),_c('el-form-item',{attrs:{\"label\":\"生日\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"disabled\":this.$route.params.userid!=_vm.userId},model:{value:(_vm.user.userinfo.birthday),callback:function ($$v) {_vm.$set(_vm.user.userinfo, \"birthday\", $$v)},expression:\"user.userinfo.birthday\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"注册时间\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"disabled\":\"\"},model:{value:(_vm.user.userinfo.createtime),callback:function ($$v) {_vm.$set(_vm.user.userinfo, \"createtime\", $$v)},expression:\"user.userinfo.createtime\"}})],1)],1),_c('el-form-item',[(this.$route.params.userid==_vm.userId)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateUserInfo}},[_vm._v(\"确定修改\")]):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"密码\"}},[_vm._v(\" 原密码\"),_c('el-input',{attrs:{\"type\":\"password\",\"disabled\":this.$route.params.userid!=_vm.userId},model:{value:(_vm.oldpassword),callback:function ($$v) {_vm.oldpassword=$$v},expression:\"oldpassword\"}}),_vm._v(\" 新密码\"),_c('el-input',{attrs:{\"type\":\"password\",\"disabled\":this.$route.params.userid!=_vm.userId},model:{value:(_vm.newpassword),callback:function ($$v) {_vm.newpassword=$$v},expression:\"newpassword\"}}),(this.$route.params.userid==_vm.userId)?_c('el-button',{staticStyle:{\"margin-top\":\"1rem\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.setPassword}},[_vm._v(\"确定修改\")]):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"手机\"}},[_c('el-input',{attrs:{\"disabled\":this.$route.params.userid!=_vm.userId},model:{value:(_vm.user.phone),callback:function ($$v) {_vm.$set(_vm.user, \"phone\", $$v)},expression:\"user.phone\"}}),(this.$route.params.userid==_vm.userId)?_c('el-button',{staticStyle:{\"margin-top\":\"1rem\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.bindPhone}},[_vm._v(\"确定修改\")]):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\"}},[_c('el-input',{attrs:{\"disabled\":this.$route.params.userid!=_vm.userId},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}}),(this.$route.params.userid==_vm.userId)?_c('el-button',{staticStyle:{\"margin-top\":\"1rem\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.bindEmail}},[_vm._v(\"确定修改\")]):_vm._e()],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n      <div class=\"bg\"></div>\r\n      <div class=\"main\">\r\n        <div class=\"mine\">\r\n            <el-form label-width=\"80px\">\r\n                <el-form-item label=\"头像\">\r\n                <el-upload\r\n                name=\"file\"\r\n                :action=\"this.$apiServer+'/user/editUserImg'\"\r\n                :data=\"{userid:userId}\"\r\n                :show-file-list=\"false\"\r\n                :on-success=\"success\"\r\n                :before-upload=\"beforeUpload\"\r\n                accept=\".jpg,.jpeg,.png\"\r\n                :disabled=\"this.$route.params.userid!=userId\"\r\n                >\r\n                <el-avatar :size=\"64\" :src=\"this.$apiServer+user.avatar\" title=\"点击头像可上传\"></el-avatar>\r\n                </el-upload>\r\n                </el-form-item>\r\n                <el-form-item label=\"昵称\">\r\n                    <el-input v-model=\"user.username\" :disabled=\"this.$route.params.userid!=userId\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"年龄\">\r\n                    <el-input v-model=\"user.userinfo.age\" :disabled=\"this.$route.params.userid!=userId\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"性别\">\r\n                    <el-select v-model=\"user.userinfo.sex\" placeholder=\"请选择您的性别\" :disabled=\"this.$route.params.userid!=userId\">\r\n                    <el-option label=\"男\" value=\"0\"></el-option>\r\n                    <el-option label=\"女\" value=\"1\"></el-option>\r\n                    </el-select>\r\n                    {{user.userinfo.sex==0?'男':'女'}}\r\n                </el-form-item>\r\n                <el-form-item label=\"地址\">\r\n                    <el-input v-model=\"user.userinfo.address\" :disabled=\"this.$route.params.userid!=userId\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"生日\">\r\n                    <el-col :span=\"11\">\r\n                    <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"user.userinfo.birthday\" style=\"width: 100%;\" :disabled=\"this.$route.params.userid!=userId\"></el-date-picker>\r\n                    </el-col>\r\n                </el-form-item>\r\n                <el-form-item label=\"注册时间\">\r\n                    <el-col :span=\"11\">\r\n                    <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"user.userinfo.createtime\" style=\"width: 100%;\" disabled></el-date-picker>\r\n                    </el-col>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" v-if=\"this.$route.params.userid==userId\" @click=\"updateUserInfo\">确定修改</el-button>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\">\r\n                    原密码<el-input v-model=\"oldpassword\" type=\"password\" :disabled=\"this.$route.params.userid!=userId\"></el-input>\r\n                    新密码<el-input v-model=\"newpassword\" type=\"password\" :disabled=\"this.$route.params.userid!=userId\"></el-input>\r\n                    <el-button type=\"primary\" v-if=\"this.$route.params.userid==userId\" style=\"margin-top:1rem;\" @click=\"setPassword\">确定修改</el-button>\r\n                </el-form-item>\r\n                <el-form-item label=\"手机\">\r\n                    <el-input v-model=\"user.phone\" :disabled=\"this.$route.params.userid!=userId\"></el-input>\r\n                    <el-button type=\"primary\" v-if=\"this.$route.params.userid==userId\" style=\"margin-top:1rem;\" @click=\"bindPhone\">确定修改</el-button>\r\n                </el-form-item>\r\n                <el-form-item label=\"邮箱\">\r\n                    <el-input v-model=\"user.email\" :disabled=\"this.$route.params.userid!=userId\"></el-input>\r\n                    <el-button type=\"primary\" v-if=\"this.$route.params.userid==userId\" style=\"margin-top:1rem;\" @click=\"bindEmail\">确定修改</el-button>\r\n                </el-form-item>\r\n                </el-form>\r\n        </div>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GetUser,updateUserInfo,setPassword,bindPhone,bindEmail} from '../../api/user'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n    data(){\r\n      return{\r\n        user:{\r\n          username:'',\r\n          avatar:'',\r\n          phone:'',\r\n          email:'',\r\n          userinfo:{\r\n            age:'',\r\n            sex:'',\r\n            birthday:'',\r\n            address:''\r\n          }\r\n        },\r\n        headurl:'',\r\n        oldpassword:'',\r\n        newpassword:'',\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['userId'])\r\n  },\r\n  methods: {\r\n    async setPassword(){\r\n        let result =  await setPassword({userid:this.userId,oldpassword:this.oldpassword,newpassword:this.newpassword});\r\n        if(result.errCode==0){\r\n            this.$message.success(result.message);\r\n        }else{\r\n            this.$message.error(result.message);\r\n        }\r\n      },\r\n      async bindPhone(){\r\n        let result =  await bindPhone({userid:this.userId,phone:this.user.phone});\r\n        if(result.errCode==0){\r\n            this.$message.success(result.message);\r\n        }else{\r\n            this.$message.error(result.message);\r\n        }\r\n      },\r\n      async bindEmail(){\r\n        let result =  await bindEmail({userid:this.userId,email:this.user.email});\r\n        if(result.errCode==0){\r\n            this.$message.success(result.message);\r\n        }else{\r\n            this.$message.error(result.message);\r\n        }\r\n      },\r\n      async updateUserInfo(){\r\n        let result =  await updateUserInfo({username:this.user.username,age:this.user.userinfo.age,sex:this.user.userinfo.sex,birthday:this.user.userinfo.birthday,address:this.user.userinfo.address,userid:this.userId});\r\n        if(result.errCode==0){\r\n            this.$message.success(result.message);\r\n        }else{\r\n            this.$message.error(result.message);\r\n        }\r\n      },\r\n      beforeUpload(file) {\r\n      const isType = file.type === ('image/jpeg' || 'image/png')\r\n      const isLt1M = file.size / 1024 / 1024 < 1\r\n      if (!isType) {\r\n        this.$message.error('格式只能是jpg/jpeg/png格式!')\r\n        return false\r\n      }\r\n      if (!isLt1M) {\r\n        this.$message.error('图片大小不能超过 1MB!')\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    success(res) {\r\n      if (res.errCode==0) {\r\n        this.$message.success(message);\r\n      }\r\n    },\r\n    async init(id) {\r\n      let result = await GetUser(id)\r\n      this.user = result.data[0];\r\n      this.headurl = this.$apiServer+this.user.avatar;\r\n      if (!this.userId) {\r\n        this.$message.warning('请先登录')\r\n        return await this.$router.push('/login')\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    let {userid} = this.$route.params;\r\n    this.init(userid)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.bg{\r\n    z-index: -1;\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgb(246,246,246);\r\n}\r\n.main{\r\n    width: 1000px;\r\n    height: 100%;\r\n    margin: 0 auto;\r\n    padding-top: 6rem;\r\n    .mine{\r\n        width: 1000px;\r\n        height: 100%;\r\n        background-color: #fff;\r\n        border: 1px solid #fff;\r\n        border-radius: 1rem;\r\n        padding: 3rem;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mine.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mine.vue?vue&type=template&id=43558da4&scoped=true&\"\nimport script from \"./mine.vue?vue&type=script&lang=js&\"\nexport * from \"./mine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mine.vue?vue&type=style&index=0&id=43558da4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43558da4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}