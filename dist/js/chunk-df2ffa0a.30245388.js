(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df2ffa0a"],{"415c":function(e,r,t){},b437:function(e,r,t){"use strict";t("415c")},bc02:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("el-form",{ref:"loginCode",attrs:{model:e.user,rules:e.rules,"status-icon":""}},[t("el-form-item",{attrs:{prop:"email"}},[t("el-input",{attrs:{placeholder:"输入邮箱"},model:{value:e.user.email,callback:function(r){e.$set(e.user,"email",r)},expression:"user.email"}})],1),t("el-form-item",{attrs:{prop:"code"}},[t("el-col",{attrs:{span:14}},[t("el-input",{attrs:{placeholder:"输入验证码"},model:{value:e.user.code,callback:function(r){e.$set(e.user,"code",e._n(r))},expression:"user.code"}})],1),t("el-col",{attrs:{span:1,offset:2}},[t("el-button",{attrs:{type:"primary"},on:{click:e.getCode}},[e._v("点击获取")])],1)],1),t("el-form-item",[t("el-button",{staticStyle:{width:"30rem"},attrs:{type:"primary"},on:{click:e.codelogin}},[e._v("提交")])],1),t("router-link",{staticStyle:{color:"#00A1D6",display:"block","text-align":"right"},attrs:{replace:"",to:"/login/loginForm"}},[e._v(" 密码登录 ")])],1)],1)},n=[],a=t("1da1"),c=t("5530"),o=(t("96cf"),t("2f62")),i=t("c24f"),u={data:function(){return{user:{email:"",code:""},rules:{email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{type:"number",message:"请输入正确的6位验证码",trigger:"blur"}]},isDisabled:!1}},methods:Object(c["a"])(Object(c["a"])({},Object(o["b"])(["setUserId"])),{},{codelogin:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.$refs.loginCode.validate(function(){var r=Object(a["a"])(regeneratorRuntime.mark((function r(t){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t){r.next=15;break}return r.next=3,Object(i["d"])({code:e.user.code,account:e.user.email});case 3:if(s=r.sent,console.log(s),s.errCode){r.next=12;break}return e.$message.success(s.message),e.setUserId(s.data[0].userid),r.next=10,e.$router.go(-1);case 10:r.next=13;break;case 12:e.$message.error(s.message);case 13:r.next=17;break;case 15:return e.$message.error("请修改错误项"),r.abrupt("return",!1);case 17:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 1:case"end":return r.stop()}}),r)})))()},getCode:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var t,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(i["j"])(e.user.email);case 2:t=r.sent,t.errCode?e.$message.error(t.message):e.$message.success(t.message),s=0,e.isDisabled=!0,n=setInterval((function(){if(++s>=60)return clearInterval(n),e.isDisabled=!1,e.btnText="点击获取";e.btnText="".concat(60-s,"秒后获取")}),1e3);case 7:case"end":return r.stop()}}),r)})))()}}),created:function(){}},l=u,m=(t("b437"),t("2877")),d=Object(m["a"])(l,s,n,!1,null,"2e0791b2",null);r["default"]=d.exports}}]);
//# sourceMappingURL=chunk-df2ffa0a.30245388.js.map